import {
  BlogMarkdownLayout,
  BlogImage,
  BlogCalloutBox,
} from "../../../../components/BlogMarkdownLayout";

import acceptInvitationHomepage from "./accept_invitation_homepage.png";
import inviteStudent from "./invite_student.png";
import selfEnrollmentSettingsFull from "./self_enrollment_settings_full.png";
import enterEnrollmentCodeHomepage from "./enter_enrollment_code_homepage.png";
import studentDetailsPage from "./student_details_page.png";
import scheduledPublish from "./scheduled_publish.png";
import addExtension from "./add_extension.png";
import releaseCover from "./release_cover.png";
import studentsPage from "./students_page.png";

export const meta = {
  title: "Overhauled enrollment management",
  date: "2026-01-01",
  author: "Peter Stenger",
  tags: ["Release"],
  introImage: releaseCover,
};

The new self-enrollment and publishing systems are here! They bring many improvements, including fine-grained self-enrollment controls and the ability to manage everything in the UI (JSON editing is still available, but it's no longer required).

<BlogCalloutBox variant="info">
  **Key Takeaways:**

1. Your existing course instances don't need any changes.
2. Going forward, how students can access your course instance is changing.
   You can either give them a link/code to enroll (see the [self-enrollment section](#self-enrollment)), or invite them yourself (see the [invitations section](#invitations)).
   There is no longer an enrollment page for students to find course instances.

</BlogCalloutBox>

Let's get into all the new features!

### Enrollment management

You should now use the "Students" tab to manage enrollments. You no longer need to manage enrollments or access in JSON. There are two
main ways to grant students access to your course instance:

1. Provide students with a self-enrollment link or code
2. Manually invite students to your course instance

<BlogImage
  src={studentsPage}
  alt="Students page overview"
  caption="The Students tab shows all enrolled students and pending invitations"
  full
/>

### Self-enrollment

Self-enrollment allows students to enroll in a course instance as long as they have a code or link.
You can further limit self-enrollment to specific institutions or by setting a cutoff date for self-enrollment.

<BlogImage
  src={selfEnrollmentSettingsFull}
  alt="Overview of self-enrollment settings"
  caption="The full self-enrollment settings panel with all available options"
  full
/>

#### Self-enrollment codes

If you want to allow students to input a code to join your course instance, you should check "Use enrollment code for self-enrollment".
If they access any link to your course instance, they will be prompted to enter the code.

<BlogImage
  src={enterEnrollmentCodeHomepage}
  alt="Enter enrollment code on homepage"
  caption="Students can enter an enrollment code from the homepage to join a course instance"
/>

### Invitations

You can also explicitly invite students to your course instance. These invitations will show up on the homepage for students to accept.
If you want full control over everyone in your course instance, consider disabling self-enrollment completely.


<BlogImage
  src={inviteStudent}
  alt="Invitation modal"
  caption="Inviting students to a course instance"
/>
<BlogImage
  src={acceptInvitationHomepage}
  alt="Invitation on homepage"
  caption="Students can see and accept invitations directly from their homepage"
  full
/>

### Managing individual students

Changes to a student's enrollment are logged and visible on the individual student page. You can get to this page by clicking on a student's UID
via the "Students" or "Gradebook" tabs. From this page, you can also block a student from a course instance.

<BlogImage
  src={studentDetailsPage}
  alt="Student details page with enrollment events"
  caption="The student details page"
  full
/>

### Publishing

Publishing is the new system to determine if a student can access a course instance.
A course instance can be "unpublished", "published", or "scheduled for publish".

Unpublished course instances are not visible to students, and they cannot enroll in them or access the contents.
Students are able to enroll in published course instances and access their contents.
When preparing for a new term, you can set up your course instance to be published in the future. On that date,
the course instance will switch to published.

<BlogImage
  src={scheduledPublish}
  alt="Scheduled publishing"
  caption="You can schedule a course instance to be published automatically on a future date"
  full
/>

Copying or creating a new course instance in the UI will automatically migrate you to the modern publishing system.
If you prefer to manage your course instance via JSON files, you can follow [the steps in the documentation](https://prairielearn.readthedocs.io/en/latest/courseInstance/#migrating-from-allowaccess) to migrate your course.

### Publishing extensions for individual students

You can grant an extension to give specific students access to the course instance beyond the original publish date. If a student has multiple extensions, the latest one takes effect.
These extensions are not written to the course instance's JSON file.

<BlogImage
  src={addExtension}
  alt="Add extension"
  caption="Granting an extension to specific students directly through the UI"
/>

### Other changes

- Students now manage their enrollments via the homepage.
- The dedicated enrollment page that listed all course instances has been removed.

<BlogCalloutBox variant="info">
  More detailed information about all these features can be found in the [course
  instance
  documentation](https://prairielearn.readthedocs.io/en/latest/courseInstance/#enrollment-controls).
  If you have questions, let us know on [Slack](/slack).
</BlogCalloutBox>

export default ({ children }) => (
  <BlogMarkdownLayout meta={meta}>{children}</BlogMarkdownLayout>
);
